<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-packaging/appstream-metainfo" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.7.0"><title data-rh=true>Appstream Metainfo | Solus Help Center</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:image content=https://help.getsol.us/img/logo.jpg><meta data-rh=true name=twitter:image content=https://help.getsol.us/img/logo.jpg><meta data-rh=true property=og:url content=https://help.getsol.us/docs/packaging/appstream-metainfo><meta data-rh=true property=og:locale content=en><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta data-rh=true property=og:title content="Appstream Metainfo | Solus Help Center"><meta data-rh=true name=description content="AppStream metainfo is required for all graphical applications in the Solus repository."><meta data-rh=true property=og:description content="AppStream metainfo is required for all graphical applications in the Solus repository."><link data-rh=true rel=icon href=/img/support-icon-2.svg><link data-rh=true rel=canonical href=https://help.getsol.us/docs/packaging/appstream-metainfo><link data-rh=true rel=alternate href=https://help.getsol.us/docs/packaging/appstream-metainfo hreflang=en><link data-rh=true rel=alternate href=https://help.getsol.us/docs/packaging/appstream-metainfo hreflang=x-default><link rel=alternate type=application/rss+xml href=/blog/rss.xml title="Solus Help Center RSS Feed"><link rel=alternate type=application/atom+xml href=/blog/atom.xml title="Solus Help Center Atom Feed"><link rel=stylesheet href=/assets/css/styles.20fd5fc9.css><script src=/assets/js/runtime~main.e157b0b4.js defer></script><script src=/assets/js/main.4713c89f.js defer></script><body class=navigation-with-keyboard data-theme=light><script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:"light",document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="navbar navbar--fixed-top"><div class=navbar__inner><div class=navbar__items><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><div class=navbar__logo><img src=/img/logo.svg alt="Solus Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/img/logo.svg alt="Solus Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Solus Help Center</b></a><a class="navbar__item navbar__link" href=/docs/user/intro>Users</a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/docs/packaging/>Packaging</a><a class="navbar__item navbar__link" href=/docs/organization/intro>Organization</a><a class="navbar__item navbar__link" href=/blog>Dev Log</a><div class="navbar__item dropdown dropdown--hoverable"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link>More</a><ul class=dropdown__menu><li><a href=https://getsol.us target=_blank rel="noopener noreferrer" class=dropdown__link>Solus Homepage<svg width=12 height=12 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li><a href=https://discuss.getsol.us/ target=_blank rel="noopener noreferrer" class=dropdown__link>Forums<svg width=12 height=12 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li><a href=https://matrix.to/#/#solus:matrix.org target=_blank rel="noopener noreferrer" class=dropdown__link>Matrix<svg width=12 height=12 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li><a href=https://floss.social/@getsolus target=_blank rel="noopener noreferrer" class=dropdown__link>Mastodon<svg width=12 height=12 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li><a href=https://github.com/getsolus target=_blank rel="noopener noreferrer" class=dropdown__link>Github<svg width=12 height=12 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li><a href=https://dev.getsol.us/ target=_blank rel="noopener noreferrer" class=dropdown__link>Packages<svg width=12 height=12 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li><a href=https://issues.getsol.us/ target=_blank rel="noopener noreferrer" class=dropdown__link>Issue Tracker<svg width=12 height=12 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li><a href=https://github.com/getsolus/packages/blob/main/SECURITY.md target=_blank rel="noopener noreferrer" class=dropdown__link>Security<svg width=12 height=12 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></div></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live=polite aria-pressed=false><svg viewBox="0 0 24 24" width=24 height=24 class=lightToggleIcon_pyhR><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 class=darkToggleIcon_wfgR><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg></button></div><div class=navbarSearchContainer_Bca1><div class=dsla-search-wrapper><div class=dsla-search-field data-tags=default,docs-default-current></div></div></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/packaging/>Packaging Overview</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/packaging/prepare-for-packaging>Prepare for Packaging</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/packaging/update-dev-environment>Update Your Development Environment</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/packaging/creating-a-new-package>Creating a New Package</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/packaging/updating-an-existing-package>Updating an Existing Package</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/packaging/testing-a-package>Testing a Package</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/packaging/submitting-a-pull-request>Submitting a Pull Request for Review</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/packaging/packaging-changes>Packaging Changes</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/advanced-configuration>Advanced Configuration</a><button aria-label="Expand sidebar category 'Advanced Configuration'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current=page href=/docs/packaging/appstream-metainfo>Appstream Metainfo</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/packaging/git-basics>Git Basics</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/packaging/monitoring.yaml>Monitoring YAML</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/packaging/package.yml>Package YAML</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/packaging/packaging-practices>Packaging Practices</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/procedures>Procedures</a><button aria-label="Expand sidebar category 'Procedures'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/packaging/stack-rebuilds>Rebuilding a stack</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/packaging/translation-instructions>Translation instructions</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/packaging/troubleshooting-packaging>Troubleshooting for Packagers</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/packaging/your-first-package-update>Your First Package Update</a></ul></nav></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=Breadcrumbs><ul class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link itemprop=name>Appstream Metainfo</span><meta itemprop=position content=1></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>AppStream Metainfo</h1></header>
<div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>important</div><div class=admonitionContent_BuS1><p>AppStream metainfo is required for all graphical applications in the Solus repository.</div></div>
<p>AppStream allows upstream projects to define metadata about the components they provide using small XML files, metainfo files, which get installed into locations on the client system and are used by distributors to enhance their metadata.</p>
<p>AppStream metainfo has become a requirement for all graphical application in Solus repository because software centers such as GNOME Software and KDE Discover rely on it to display applications that are available in the repository. AppStream metainfo should be shipped by the upstream project, bundled in with its source, but sometimes it isn't. In this case, packagers are required to add AppStream metainfo themselves.</p>
<p>Generally, for graphical applications, a package must provide one appstream metainfo file, an icon file, and a .desktop file for AppStream composition to succeed. However, there are exceptions to this. For example, metainfo for a font package does not need a .desktop file or icons. An application may provide more than one metainfo file.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=a-short-note-on-terminology>A short note on terminology<a href=#a-short-note-on-terminology class=hash-link aria-label="Direct link to A short note on terminology" title="Direct link to A short note on terminology">​</a></h2>
<p><em>AppStream</em> is the specification. <em>Metainfo</em> is provided by individual projects, but may also be referred to as metadata; the legacy name for this is <em>AppData</em>. AppStream composes multiple metainfo sources in a single <em>catalog</em>; this also may be referred to as metadata. Catalogs are used by software centers to display information about projects (e.g. desktop application, font, etc.). Catalogs from multiple different sources be can installed and leveraged at the same time by software centers.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=adding-appstream-metainfo-to-an-existing-package>Adding appstream metainfo to an existing package<a href=#adding-appstream-metainfo-to-an-existing-package class=hash-link aria-label="Direct link to Adding appstream metainfo to an existing package" title="Direct link to Adding appstream metainfo to an existing package">​</a></h2>
<p>There are a few scenarios that Packagers might encounter:</p>
<table><thead><tr><th>No<th>Scenario<th>Solution<tbody><tr><td>1<td>An application already provides appstream metainfo<td>Nothing to do<tr><td>2<td>An application contains appstream metainfo in the source package but we do not install it<td>Install the appstream metainfo to <code>/usr/share/metainfo</code>. <em>Example</em>: <a href=https://github.com/getsolus/packages/commit/0a726a53454e7c8a6b0e66de69d59bcc66f0fc19 target=_blank rel="noopener noreferrer">here</a><tr><td>3<td>An application doesn't contain appstream metainfo in the source package but it exists on Flathub<td>Borrow and tweak the appstream metainfo from the Flathub repo. Encourage upstream project to add it to their source. <em>Example</em>: <a href=https://github.com/getsolus/packages/commit/da2f65b93f412da43d1db9edbcb08bb90517a0eb target=_blank rel="noopener noreferrer">here</a><tr><td>4<td>An application doesn't provide appstream metainfo and it doesn't exist on flathub<td>See <a href=#writing-appstream-metainfo>here</a>. <em>Example</em>: <a href=https://github.com/getsolus/packages/commit/414219d8b2ceeabe85178d3a467f81b9131016f4 target=_blank rel="noopener noreferrer">here</a><tr><td>5<td>Appstream metainfo is provided but composition of it is failing<td>See <a href=#testing-appstream-metainfo>here</a>. <em>Example</em>: <a href=https://github.com/getsolus/packages/commit/583b7c742caf50e2f66a70e9b62e9b91566c03f5 target=_blank rel="noopener noreferrer">here</a>.</table>
<p>AppStream metainfo is to be installed in the <code>/usr/share/metainfo/</code> directory. It must be placed in the package which should be installed in order to get the software described by the respective metadata. This means that you might need to move the _.metainfo.xml or _.appdata.xml to the right (sub)package.</p>
<p>In case your AppStream metainfo is describing a desktop application (you can tell by the XML root-node having a type="desktop-application" or type="desktop" attribute), the .metainfo.xml file must be placed in the same package as the .desktop file already is, which (as above) must be the package containing the application itself.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=testing-appstream-metainfo>Testing appstream metainfo<a href=#testing-appstream-metainfo class=hash-link aria-label="Direct link to Testing appstream metainfo" title="Direct link to Testing appstream metainfo">​</a></h2>
<ul>
<li>
<p>Clone the package repo</p>
</li>
<li>
<p>Build it or fetch the package e.g. <code>eopkg fetch sunshine</code>.</p>
</li>
<li>
<p>Extract the package e.g. <code>uneopkg sunshine-0.23.1-15-1-x86_64.eopkg</code>. This will unzip the <code>.eopkg</code> file containing the <code>metainfo.xml</code> and <code>files.xml</code> meta information as well as extract the contained <code>install.tar.xz</code> archive to a folder called <code>install</code>.</p>
</li>
<li>
<p>Ensure <code>appstreamcli compose</code> is available, and install it if it's not.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token function" style=color:#d73a49>sudo</span><span class="token plain"> eopkg it appstream-compose</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
</li>
<li>
<p>Run a report against the extracted install directory.</p>
<p>For general testing, the following command should be sufficient:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">appstreamcli compose install/ --hints-dir</span><span class="token operator" style=color:#393A34>=</span><span class="token plain">hints </span><span class="token parameter variable" style=color:#36acaa>--verbose</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>For more advanced testing, such as media generation, e.g. to test font screenshots get auto-generated, run:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">appstreamcli compose install/ --hints-dir</span><span class="token operator" style=color:#393A34>=</span><span class="token plain">hints --media-dir</span><span class="token operator" style=color:#393A34>=</span><span class="token plain">media --media-baseurl</span><span class="token operator" style=color:#393A34>=</span><span class="token plain">localhost:8000 </span><span class="token parameter variable" style=color:#36acaa>--verbose</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<ul>
<li>If it reports <code>Success!</code>, there is nothing to do.</li>
<li>If it reports warnings, they should be rectified if possible.</li>
<li>If it reports errors, they must be rectified so that the metainfo for that package is composed into the catalog. More details can be found in the "hints" folder.</li>
</ul>
</li>
</ul>
<p>To fix any potential warnings or errors, you can edit the metainfo file in <code>install/usr/share/metainfo/</code> then rerun <code>appstreamcli compose install/</code> to verify the issues have been rectified. A patch then can be created to be submitted to the upstream project if it provides the metainfo, which can also be applied to the Solus package repository for the corresponding package. If the upstream doesn't provide the metainfo file, then a patch should be submitted directly to the corresponding package in the Solus package repository instead.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=debugging-failures>Debugging failures<a href=#debugging-failures class=hash-link aria-label="Direct link to Debugging failures" title="Direct link to Debugging failures">​</a></h2>
<p>The <code>appstreamcli compose</code> tool will normally give good hints about failures but the most common issues are:</p>
<ul>
<li>A <code>.desktop</code> file cannot be matched to the metainfo file.<!-- -->
<ul>
<li>By default, the <code>.desktop</code> file name must match the <code>&lt;id></code> provided in <code>.xml</code> file in <code>/usr/share/metainfo/</code>. For example, the if you have <code>&lt;id>org.foobar.my_package&lt;/id></code> the <code>.desktop</code> file should be called <code>org.foobar.my_package.desktop</code>. However, there is an exception to this if the metainfo provides a launchable tag. For example, if the metainfo contains <code>&lt;launchable type="desktop-id">my_package.desktop&lt;/launchable></code> then the <code>.desktop</code> file can be just called <code>my_package.desktop</code>. For more information view the upstream documentation <a href=https://www.freedesktop.org/software/appstream/docs/sect-Metadata-Application.html#spec-appdata-introduction target=_blank rel="noopener noreferrer">here</a>.</li>
</ul>
</li>
<li>No metainfo file is provided.<!-- -->
<ul>
<li>No appstream metainfo was found in <code>/usr/share/metainfo/</code>.</li>
<li>Appstream metainfo may exist in <code>/usr/share/appdata/</code> but that path is now obsolete and is no longer read from.</li>
</ul>
</li>
<li>No icon found.<!-- -->
<ul>
<li>Install a icon to a directory respecting the freedesktop icon specification. For <code>.png</code> files this is <code>/usr/share/icons/hicolor/{size}x{size}/apps/</code>. Where size should be at least 64px. For <code>.svg</code> files this is <code>/usr/share/icons/hicolor/scalable/apps/</code>.</li>
<li>A icon may be too small to be accepted, it must be at least 64px. Note: that <code>appstream-generator</code> is a little more generous and allows 48px icons.</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=writing-appstream-metainfo>Writing AppStream metainfo<a href=#writing-appstream-metainfo class=hash-link aria-label="Direct link to Writing AppStream metainfo" title="Direct link to Writing AppStream metainfo">​</a></h2>
<p>When the upstream project does not provide any metainfo, and no alternatives exist on platforms such as FlatHub, is it recommended to write the metainfo and submit it to the upstream project. Whilst it is awaiting review upstream, it can be applied downstream to the relevant package.</p>
<p>There are some existing tools to help you write metainfo from scratch:</p>
<ul>
<li><a href=https://www.freedesktop.org/software/appstream/metainfocreator/#/ target=_blank rel="noopener noreferrer">https://www.freedesktop.org/software/appstream/metainfocreator/#/</a></li>
<li><a href=https://flathub.org/apps/page.codeberg.JakobDev.jdAppStreamEdit target=_blank rel="noopener noreferrer">https://flathub.org/apps/page.codeberg.JakobDev.jdAppStreamEdit</a></li>
</ul>
<p>These tools should prompt you with enough information to create valid metainfo, but to double check, you may run the validate tool provided by the <code>appstream</code> package. To validate the metainfo you've created, run <code>appstreamcli validate my_package_metainfo.xml</code>.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>note</div><div class=admonitionContent_BuS1><p>It is not necessary to pass all pedantic warnings, but all errors must be rectified.</div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=running-appstream-generator>Running <code>appstream-generator</code><a href=#running-appstream-generator class=hash-link aria-label="Direct link to running-appstream-generator" title="Direct link to running-appstream-generator">​</a></h2>
<p><code>appstream-generator</code> is a tool that supports composing a catalog against complex data sources. For our purposes, it provides a backend for Solus that understands a repository managed by <code>eopkg</code>, as well as individual <code>.eopkg</code> files themselves. Individual packagers are unlikely to need to use this tool, unless they are managing a medium to long term repository that they need an appstream catalog for.</p>
<p>To generate a catalog with appstream generator, a <code>asgen-config.json</code> file must be provided.</p>
<p>Here is a example configuration file for running against local repositories.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "ProjectName": "Solus",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "ArchiveRoot": "/var/lib/solbuild",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "MediaBaseUrl": "http://localhost:8000/export/media",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "HtmlBaseUrl": "http://localhost:8000/export/html",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "Backend": "solus",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "Suites": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "local": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "sections": ["main"],</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "architectures": ["x86_64"]</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>A local repository should contain a <code>eopkg-index.xml</code> file as well as <code>.eopkg</code> files. Remember to run, <code>eopkg index --skip-signing</code> in the root of the local repository before starting to ensure the index is up to date. For the sample provided above, the eopkg index file should reside in <code>/var/lib/solbuild/local/eopkg-index.xml</code>.</p>
<p>To generate the catalog run <code>appstream-generator run local --verbose</code>. Depending on the size of the repository, this may take a long time; subsequent runs will take far less time.</p>
<p>To view the HTML report, you can start a http server with <code>python3 -m http.server 8000</code>, enter <code>http://localhost:8000/</code> in your web browser, then navigate to <code>export/html/</code>.</p>
<p>It can also be ran against a remote repository, here is a sample configuration.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "ProjectName": "Solus",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "ArchiveRoot": "https://fastly.getsol.us/repo",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "MediaBaseUrl": "https://appstream.getsol.us/media",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "HtmlBaseUrl": "https://appstream.getsol.us",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "Backend": "solus",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "Suites": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "gwendraeth": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "sections": ["main"],</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "architectures": ["x86_64"]</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "gwendraeth-updates": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "sections": ["main"],</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "architectures": ["x86_64"],</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "dataPriority": 10,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "baseSuite": "gwendraeth"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>In this example, <code>appstream-generator</code> will run against two suites which correspond to the "gwendraeth" and "gwendraeth-updates" repositories, where the index URL for "gwendraeth" would correspond to <code>https://fastly.getsol.us/repo/gwendraeth/eopkg-index.xml.xz</code>.</p>
<p>To generate a catalog for just gwendraeth, run <code>appstream-generator run gwendraeth --verbose</code>. To generate a catalog against gwendraeth <em>as well as</em> any differences in the gwendraeth-updates repository, run <code>appstream-generator run gwendraeth-updates --verbose</code>. Appstream generator is smart enough to only process <code>.eopkg</code> files that are different in the "gwendraeth-updates" repository.</p>
<p>For more documentation, consult <a href=https://github.com/ximion/appstream-generator/tree/master/docs target=_blank rel="noopener noreferrer">upstream documentation</a>.</div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href=https://github.com/getsolus/help-center-docs/tree/master/docs/packaging/appstream-metainfo.md target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class=theme-last-updated>Last updated<!-- --> on <b><time datetime=2025-06-24T17:17:58.000Z itemprop=dateModified>Jun 24, 2025</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/docs/packaging/advanced-config/local-repository><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>Local Repository</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/docs/packaging/git-basics><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>Git Basics</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#a-short-note-on-terminology class="table-of-contents__link toc-highlight">A short note on terminology</a><li><a href=#adding-appstream-metainfo-to-an-existing-package class="table-of-contents__link toc-highlight">Adding appstream metainfo to an existing package</a><li><a href=#testing-appstream-metainfo class="table-of-contents__link toc-highlight">Testing appstream metainfo</a><li><a href=#debugging-failures class="table-of-contents__link toc-highlight">Debugging failures</a><li><a href=#writing-appstream-metainfo class="table-of-contents__link toc-highlight">Writing AppStream metainfo</a><li><a href=#running-appstream-generator class="table-of-contents__link toc-highlight">Running <code>appstream-generator</code></a></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class=footer__title>Docs</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/docs/user/intro>Users</a><li class=footer__item><a class=footer__link-item href=/docs/packaging>Packaging</a></ul></div><div class="col footer__col"><div class=footer__title>News</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://getsol.us/blog target=_blank rel="noopener noreferrer" class=footer__link-item>Solus Blog</a><li class=footer__item><a class=footer__link-item href=/blog>Solus Devlog</a></ul></div><div class="col footer__col"><div class=footer__title>Community</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://discuss.getsol.us target=_blank rel="noopener noreferrer" class=footer__link-item>Forums<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://matrix.to/#/#solus:matrix.org target=_blank rel="noopener noreferrer" class=footer__link-item>Matrix<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://floss.social/@getsolus target=_blank rel=me class=footer__link-item>Mastodon<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></div><div class="col footer__col"><div class=footer__title>More</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://getsol.us/ target=_blank rel="noopener noreferrer" class=footer__link-item>Solus Homepage</a><li class=footer__item><a href=https://github.com/getsolus target=_blank rel=me class=footer__link-item>GitHub<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://dev.getsol.us target=_blank rel="noopener noreferrer" class=footer__link-item>Packages<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://issues.getsol.us target=_blank rel="noopener noreferrer" class=footer__link-item>Issue Tracker<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://github.com/getsolus/packages/blob/main/SECURITY.md target=_blank rel="noopener noreferrer" class=footer__link-item>Security<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>Copyright © 2025 Solus Project. Built with Docusaurus.</div></div></div></footer></div>