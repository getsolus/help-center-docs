<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-user/software/networking/samba" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.8.1"><title data-rh=true>Samba File Sharing | Solus Help Center</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:image content=https://help.getsol.us/img/logo.jpg><meta data-rh=true name=twitter:image content=https://help.getsol.us/img/logo.jpg><meta data-rh=true property=og:url content=https://help.getsol.us/docs/user/software/networking/samba><meta data-rh=true property=og:locale content=en><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta data-rh=true property=og:title content="Samba File Sharing | Solus Help Center"><meta data-rh=true name=description content="Samba is the standard Windows interoperability suite of programs for Linux and Unix. Among other things, it allows Linux, macOS and Windows users to share files via the Server Message Block (SMB) protocol."><meta data-rh=true property=og:description content="Samba is the standard Windows interoperability suite of programs for Linux and Unix. Among other things, it allows Linux, macOS and Windows users to share files via the Server Message Block (SMB) protocol."><link data-rh=true rel=icon href=/img/support-icon-2.svg><link data-rh=true rel=canonical href=https://help.getsol.us/docs/user/software/networking/samba><link data-rh=true rel=alternate href=https://help.getsol.us/docs/user/software/networking/samba hreflang=en><link data-rh=true rel=alternate href=https://help.getsol.us/docs/user/software/networking/samba hreflang=x-default><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://help.getsol.us/docs/category/software","name":"Software","position":1},{"@type":"ListItem","item":"https://help.getsol.us/docs/category/networking","name":"Networking","position":2},{"@type":"ListItem","item":"https://help.getsol.us/docs/user/software/networking/samba","name":"Samba File Sharing","position":3}]}</script><link rel=alternate type=application/rss+xml href=/blog/rss.xml title="Solus Help Center RSS Feed"><link rel=alternate type=application/atom+xml href=/blog/atom.xml title="Solus Help Center Atom Feed"><link rel=stylesheet href=/assets/css/styles.0acfd53d.css><script src=/assets/js/runtime~main.2fa9bb85.js defer></script><script src=/assets/js/main.7cc42e32.js defer></script><body class=navigation-with-keyboard data-theme=light><svg xmlns=http://www.w3.org/2000/svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light",e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><div class=navbar__logo><img src=/img/logo.svg alt="Solus Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/img/logo.svg alt="Solus Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Solus Help Center</b></a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/docs/user/intro>Users</a><a class="navbar__item navbar__link" href=/docs/packaging/>Packaging</a><a class="navbar__item navbar__link" href=/docs/organization/intro>Organization</a><a class="navbar__item navbar__link" href=/blog>Dev Log</a><div class="navbar__item dropdown dropdown--hoverable"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link>More</a><ul class=dropdown__menu><li><a href=https://getsol.us target=_blank rel="noopener noreferrer" class=dropdown__link>Solus Homepage<svg width=12 height=12 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li><a href=https://discuss.getsol.us/ target=_blank rel="noopener noreferrer" class=dropdown__link>Forums<svg width=12 height=12 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li><a href=https://matrix.to/#/#solus:matrix.org target=_blank rel="noopener noreferrer" class=dropdown__link>Matrix<svg width=12 height=12 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li><a href=https://floss.social/@getsolus target=_blank rel="noopener noreferrer" class=dropdown__link>Mastodon<svg width=12 height=12 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li><a href=https://github.com/getsolus target=_blank rel="noopener noreferrer" class=dropdown__link>Github<svg width=12 height=12 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li><a href=https://dev.getsol.us/ target=_blank rel="noopener noreferrer" class=dropdown__link>Packages<svg width=12 height=12 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li><a href=https://issues.getsol.us/ target=_blank rel="noopener noreferrer" class=dropdown__link>Issue Tracker<svg width=12 height=12 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li><a href=https://github.com/getsolus/packages/blob/main/SECURITY.md target=_blank rel="noopener noreferrer" class=dropdown__link>Security<svg width=12 height=12 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_Bca1><div class=dsla-search-wrapper><div class=dsla-search-field data-tags=default,docs-default-current></div></div></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/user/intro>Welcome</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/quick-start>Quick Start</a><button aria-label="Expand sidebar category 'Quick Start'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/contributing>Contributing</a><button aria-label="Expand sidebar category 'Contributing'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/user/editions/>Editions</a><button aria-label="Expand sidebar category 'Editions'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/user/hardware/>Hardware</a><button aria-label="Expand sidebar category 'Hardware'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/package-management>Package Management</a><button aria-label="Expand sidebar category 'Package Management'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/user/privacy>Privacy Policy</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" href=/docs/category/software>Software</a><button aria-label="Collapse sidebar category 'Software'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/category/camera>Camera</a><button aria-label="Expand sidebar category 'Camera'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/user/software/command-line/>Command Line</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/user/software/configuration_files>Configuration File Locations</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/user/software/desktops/>Desktop environments</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/user/software/development/>Development</a><button aria-label="Expand sidebar category 'Development'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/user/software/gaming/>Gaming</a><button aria-label="Expand sidebar category 'Gaming'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/category/localization>Localization</a><button aria-label="Expand sidebar category 'Localization'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" tabindex=0 href=/docs/category/networking>Networking</a><button aria-label="Collapse sidebar category 'Networking'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/docs/user/software/networking/samba>Samba File Sharing</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/user/software/networking/tigervnc>TigerVNC</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/user/software/networking/wireshark>Wireshark</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/user/software/networking/xrdp>XRDP</a></ul><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/user/software/sound/>Sound</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/user/software/third-party/>Third Party</a><button aria-label="Expand sidebar category 'Third Party'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/category/utilities>Utilities</a><button aria-label="Expand sidebar category 'Utilities'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/category/virtualization>Virtualization</a><button aria-label="Expand sidebar category 'Virtualization'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/category/web>Web</a><button aria-label="Expand sidebar category 'Web'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/user/software/window-managers/>Window managers</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/user/troubleshooting/>Troubleshooting</a><button aria-label="Expand sidebar category 'Troubleshooting'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul></nav></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=Breadcrumbs><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/docs/category/software><span>Software</span></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/docs/category/networking><span>Networking</span></a><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>Samba File Sharing</span></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Samba file sharing</h1></header>
<p>Samba is the standard Windows interoperability suite of programs for Linux and Unix. Among other things, it allows Linux, macOS and Windows users to share files via the Server Message Block (SMB) protocol.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=samba-on-solus>Samba on Solus<a href=#samba-on-solus class=hash-link aria-label="Direct link to Samba on Solus" title="Direct link to Samba on Solus">​</a></h2>
<p>To enable convenient file-sharing on Solus, we maintain a Solus-specific Samba configuration that out-of-the-box:</p>
<ul>
<li>Supports Samba usershare functionality</li>
<li>Enables sharing of <em>$HOME</em> folders (manual user account activation needed)</li>
<li>Is set up as a standalone server using the SMB2.0.2 protocol and up (>= Windows Vista/Server 2008)</li>
<li>Advertises itself via <em>Avahi</em> aka <em>Apple Bonjour</em> / <em>mDNS</em> / <em>zeroconf</em> for macOS compatibility</li>
<li>Advertises itself via <em>wsdd</em> aka <em>Web Services Discovery Daemon</em> for Windows 7+ compatibility</li>
<li>Disables sharing of printers via Samba (use IPP via CUPS instead)</li>
<li>Allows access only from IPv4 and IPv6 private and link-local (non-internet-routable) addresses</li>
</ul>
<p>As of Samba 4.7.x, Solus disables the old, deprecated and insecure original SMB1/CIFS protocol by default.</p>
<p>For more information on this choice, please read <a href=https://techcommunity.microsoft.com/t5/storage-at-microsoft/stop-using-smb1/ba-p/425858 target=_blank rel="noopener noreferrer">this post regarding SMB1</a>.</p>
<p>As of Samba 4.11.x, the SMB1/CIFS protocol is officially deprecated upstream.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=how-to-startstop-samba>How to start/stop Samba<a href=#how-to-startstop-samba class=hash-link aria-label="Direct link to How to start/stop Samba" title="Direct link to How to start/stop Samba">​</a></h3>
<p>Please note that Samba does NOT run on system boot by default. It needs to be manually started/configured to start automatically:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic># Start Samba manually</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token function" style=color:#d73a49>sudo</span><span class="token plain"> systemctl start smb</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># Configure Samba to start automatically on each boot and immediately start the service</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token function" style=color:#d73a49>sudo</span><span class="token plain"> systemctl </span><span class="token builtin class-name">enable</span><span class="token plain"> </span><span class="token parameter variable" style=color:#36acaa>--now</span><span class="token plain"> smb</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># Check whether Samba is running</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token function" style=color:#d73a49>sudo</span><span class="token plain"> systemctl status smb</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># Restart Samba manually</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token function" style=color:#d73a49>sudo</span><span class="token plain"> systemctl restart smb</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># Stop Samba manually</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token function" style=color:#d73a49>sudo</span><span class="token plain"> systemctl stop smb</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># Configure Samba to not start automatically on each boot and immediately stop the service</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token function" style=color:#d73a49>sudo</span><span class="token plain"> systemctl disable </span><span class="token parameter variable" style=color:#36acaa>--now</span><span class="token plain"> smb</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=enabling-windows-7-network-discovery-support>Enabling Windows 7+ network discovery support<a href=#enabling-windows-7-network-discovery-support class=hash-link aria-label="Direct link to Enabling Windows 7+ network discovery support" title="Direct link to Enabling Windows 7+ network discovery support">​</a></h3>
<p>The Web Services Discovery protocol is used by Windows 7+ clients to discover shares on other computers. Solus now includes the <em>wsdd</em> service which provides support for the Web Services Discovery protocol.</p>
<p>When restarting wsdd, it may be necessary to also restart Samba.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic># Start wsdd manually (depends on the smb service)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token function" style=color:#d73a49>sudo</span><span class="token plain"> systemctl start wsdd</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># Configure wsdd to start automatically on each boot and immediately start the service</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token function" style=color:#d73a49>sudo</span><span class="token plain"> systemctl </span><span class="token builtin class-name">enable</span><span class="token plain"> </span><span class="token parameter variable" style=color:#36acaa>--now</span><span class="token plain"> wsdd</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># Check whether wsdd is running</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token function" style=color:#d73a49>sudo</span><span class="token plain"> systemctl status wsdd</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># Restart wsdd and Samba</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token function" style=color:#d73a49>sudo</span><span class="token plain"> systemctl restart wsdd smb</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># Stop wsdd manually</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token function" style=color:#d73a49>sudo</span><span class="token plain"> systemctl stop wsdd</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># Configure wsdd to not start automatically on each boot and immediately stop the service</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token function" style=color:#d73a49>sudo</span><span class="token plain"> systemctl disable </span><span class="token parameter variable" style=color:#36acaa>--now</span><span class="token plain"> wsdd</span><br></span></code></pre></div></div>
<p>For more details on managing services on Solus with <em>systemctl</em>, see <code>man systemctl</code> which is part of the systemd system and service manager.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=accessing-samba-via-ipv6>Accessing Samba via IPv6<a href=#accessing-samba-via-ipv6 class=hash-link aria-label="Direct link to Accessing Samba via IPv6" title="Direct link to Accessing Samba via IPv6">​</a></h3>
<p>In order to access a running Solus Samba server instance via IPv6, first verify that all relevant hosts (including the Samba host) are configured with an IPv6 link-local address.</p>
<p>This can be verified in a terminal:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$ ip addr</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">2: enp2s0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP group default qlen 1000</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    link/ether 14:da:e9:10:f9:c7 brd ff:ff:ff:ff:ff:ff</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    inet 192.168.147.233/24 brd 192.168.147.255 scope global dynamic noprefixroute enp2s0</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       valid_lft 5066sec preferred_lft 5066sec</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    inet6 fe80::d555:a50f:1aea:c944/64 scope link noprefixroute</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       valid_lft forever preferred_lft forever</span><br></span></code></pre></div></div>
<p>In the above example, the name of the relevant network device is <code>enp2s0</code>. Note how the line starting with <code>inet6</code> contains an IPv6 address which begins with fe80:: and contains <code>scope link</code>.</p>
<p>Ensure that Samba has been started on the host and then query the running local Samba instance with the following command, using the IPv6 address and interface as show by the output of <code>ip addr</code>:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$ smbclient -N -L //fe80::d555:a50f:1aea:c944%enp2s0</span><br></span></code></pre></div></div>
<p>The output might look something like this:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">Unable to initialize messaging context</span><br></span><span class=token-line style=color:#393A34><span class="token plain">Anonymous login successful</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        Sharename       Type      Comment</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        ---------       ----      -------</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        eopkgs          Disk</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        IPC$            IPC       IPC Service (Samba server (version: 4.10.11, protocol: SMB3_11))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        Public          Disk</span><br></span><span class=token-line style=color:#393A34><span class="token plain">fe80::d555:a50f:1aea:c944%enp2s0 is an IPv6 address -- no workgroup available</span><br></span></code></pre></div></div>
<p>Make sure to change the IPv6 address and interface name (<code>fe80::d555:a50f:1aea:c944</code> and <code>enp2s0</code> respectively in the above example) to the real address and interface name of the Samba host in question.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=a-brief-introduction-to-the-samba-usershare-functionality>A brief introduction to the Samba usershare functionality<a href=#a-brief-introduction-to-the-samba-usershare-functionality class=hash-link aria-label="Direct link to A brief introduction to the Samba usershare functionality" title="Direct link to A brief introduction to the Samba usershare functionality">​</a></h2>
<p>In order to support user-managed (as opposed to system-managed) shares, Samba provides the so-called <em>usershare</em> functionality, where users can define network shares without touching the traditional Samba configuration file.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=gui---configuring-shares-via-file-manager-plugins>GUI - configuring shares via file manager plugins<a href=#gui---configuring-shares-via-file-manager-plugins class=hash-link aria-label="Direct link to GUI - configuring shares via file manager plugins" title="Direct link to GUI - configuring shares via file manager plugins">​</a></h3>
<p>The default Solus configuration was written with the <code>nemo-share</code> (Budgie and Xfce), <code>nautilus-share</code> (GNOME), and <code>kdenetwork-filesharing</code> (Plasma) file manager plugins in mind. These plugins allow the user to share folders in an easy and convenient way.</p>
<p>All you need to do is to install either the <code>caja-extensions</code> package (which includes the <code>caja-share</code> plugin), the <code>kdenetwork-filesharing</code> package, the <code>nautilus-share</code> package or the <code>nemo-share</code> package from the Software Center and enable the relevant Samba services.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic># Budgie</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token function" style=color:#d73a49>sudo</span><span class="token plain"> eopkg </span><span class="token function" style=color:#d73a49>install</span><span class="token plain"> nemo-share</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>#GNOME</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token function" style=color:#d73a49>sudo</span><span class="token plain"> eopkg </span><span class="token function" style=color:#d73a49>install</span><span class="token plain"> nautilus-share</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># Plasma</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token function" style=color:#d73a49>sudo</span><span class="token plain"> eopkg </span><span class="token function" style=color:#d73a49>install</span><span class="token plain"> kdenetwork-filesharing</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># Xfce</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token function" style=color:#d73a49>sudo</span><span class="token plain"> eopkg </span><span class="token function" style=color:#d73a49>install</span><span class="token plain"> nemo-share</span><br></span></code></pre></div></div>
<p>In order to load the newly installed file manager plugin, you will need to log out of the current desktop session and log back in to a new desktop session, at which point the plugin in question will be ready for use.</p>
<p>Afterwards, simply right-clicking a folder and clicking <em>properties</em> will now show an option to share it, as well as whether to allow Read/Write permissions to your users or guest access.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=cli---using-the-net-usershare-command>CLI - using the net usershare command<a href=#cli---using-the-net-usershare-command class=hash-link aria-label="Direct link to CLI - using the net usershare command" title="Direct link to CLI - using the net usershare command">​</a></h3>
<p>Excerpt from the <code>man smb.conf</code> manual page:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">net usershare add sharename path [comment] [acl] [guest_ok=[y|n]]</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    To create or modify (overwrite) a user defined share.</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">net usershare delete sharename</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    To delete a user defined share.</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">net usershare list wildcard-sharename</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    To list user defined shares.</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">net usershare info wildcard-sharename</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    To print information about user defined shares.</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=managing-samba-authentication-for-named-users>Managing Samba authentication for named users<a href=#managing-samba-authentication-for-named-users class=hash-link aria-label="Direct link to Managing Samba authentication for named users" title="Direct link to Managing Samba authentication for named users">​</a></h2>
<p>Should the user <code>some_user</code> wish to access e.g. the <em>$HOME</em> directory via Samba, it is necessary to enable the <code>some_user</code> Samba account.</p>
<p>Note that the <code>some_user</code> Samba account is separate from the <code>some_user</code> Linux user account, but they share the same <em>$HOME</em> directory.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic># Add the some_user account to the Samba login db</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token function" style=color:#d73a49>sudo</span><span class="token plain"> smbpasswd </span><span class="token parameter variable" style=color:#36acaa>-a</span><span class="token plain"> some_user</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># Enable the some_user account in the Samba login db</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token function" style=color:#d73a49>sudo</span><span class="token plain"> smbpasswd </span><span class="token parameter variable" style=color:#36acaa>-e</span><span class="token plain"> some_user</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># Try to log in to a running Samba instance as some_user and list shares</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">smbclient </span><span class="token parameter variable" style=color:#36acaa>-U</span><span class="token plain"> some_user </span><span class="token parameter variable" style=color:#36acaa>-L</span><span class="token plain"> localhost</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># Disable the some_user account in the Samba login db</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token function" style=color:#d73a49>sudo</span><span class="token plain"> smbpasswd </span><span class="token parameter variable" style=color:#36acaa>-d</span><span class="token plain"> some_user</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># Remove the some_user account from the Samba login db</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token function" style=color:#d73a49>sudo</span><span class="token plain"> smbpasswd </span><span class="token parameter variable" style=color:#36acaa>-x</span><span class="token plain"> some_user</span><br></span></code></pre></div></div>
<p>See <code>man smbpasswd</code> for more details.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=debugging-samba-authentication-issues>Debugging Samba authentication issues<a href=#debugging-samba-authentication-issues class=hash-link aria-label="Direct link to Debugging Samba authentication issues" title="Direct link to Debugging Samba authentication issues">​</a></h3>
<p>To help debug authentication issues, the Solus Samba configuration is by default set up with relatively verbose logging when it comes to authentication and protocol negotiation.</p>
<p>The Samba log files live in the <code>/var/log/samba/</code> directory.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=adding-custom-configuration-parameters-via-etcsambasmbconf>Adding custom configuration parameters via <code>/etc/samba/smb.conf</code><a href=#adding-custom-configuration-parameters-via-etcsambasmbconf class=hash-link aria-label="Direct link to adding-custom-configuration-parameters-via-etcsambasmbconf" title="Direct link to adding-custom-configuration-parameters-via-etcsambasmbconf">​</a></h2>
<p><strong>CAUTION:</strong> <em>From this point on, it is assumed that the user is familiar with the Samba documentation, including <code>man smb.conf</code>, and that the user has a basic understanding of Linux filesystem permissions.</em></p>
<p>The default Solus-managed configuration (which lives in <code>/usr/share/defaults/samba/smb.conf</code> and will be overwritten on each Samba package update) is written such that it will attempt to include any configuration parameters present in <code>/etc/samba/smb.conf</code>.</p>
<p>Hence, any persistent user-managed parameters should be added to <code>/etc/samba/smb.conf</code> which will <em>never</em> be overwritten by the system package manager.</p>
<p>In addition, the Solus-controlled Samba configuration is written such that it is possible to override its default parameters simply by assigning a new value to the parameter in question in <code>/etc/samba/smb.conf</code>. From a technical perspective, any parameters added without a <code>[shared resource]</code> header will considered part of the <code>[global]</code> configuration section.</p>
<p>This way, simply deleting or renaming <code>/etc/samba/smb.conf</code> and restarting Samba with <code>sudo systemctl restart smb</code> will reset the configuration to the known working default Solus configuration.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=example----anonymous-read-write-share-outside-of-home>Example -- anonymous, read-write share outside of <em>$HOME</em><a href=#example----anonymous-read-write-share-outside-of-home class=hash-link aria-label="Direct link to example----anonymous-read-write-share-outside-of-home" title="Direct link to example----anonymous-read-write-share-outside-of-home">​</a></h3>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic># Contents of /etc/samba/smb.conf:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>#</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># If /etc/samba/smb.conf exists, it is automatically loaded by the Solus-</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># controlled default config residing in /usr/share/defaults/samba/smb.conf</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>#</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># The following configuration creates a "//servername/someshare" share where</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># anonymous users have read and write access.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>#</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># ';' also denotes a comment (typically used for configuration parameters)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>#</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token section punctuation" style=color:#393A34>[</span><span class="token section section-name selector" style=color:#00009f>someshare</span><span class="token section punctuation" style=color:#393A34>]</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key attr-name" style=color:#00a4db>path</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token value attr-value" style=color:#e3116c>/mnt/someshare</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># allow anonymous access</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key attr-name" style=color:#00a4db>guest ok</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token value attr-value" style=color:#e3116c>Yes</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># ONLY allow anonymous access (don't allow both guest and system user access)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>;guest only = Yes</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># allow write access</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key attr-name" style=color:#00a4db>read only</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token value attr-value" style=color:#e3116c>No</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># This is an example of how to limit access to the share to known IPs</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>;hosts deny = ALL</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>;hosts allow = 127.0.0.1 192.168.1.0/24</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># share config end</span><br></span></code></pre></div></div>
<p>In the above example, it is assumed that the user has chosen a suitable method for making <code>/mnt/someshare</code> writeable by guest users.</p>
<p>After adding a <code>[someshare]</code> section like in the above example, run <code>sudo testparm</code> to check that the newly included share does not contain syntax errors. Check out <code>man testparm</code> for more information about the <em>testparm</em> utility.</p>
<p>If <em>testparm</em> didn't spot any problems, restart Samba with <code>sudo systemctl restart smb</code>, which will activate the new configuration.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=links-to-the-official-samba-documentation>Links to the official Samba documentation<a href=#links-to-the-official-samba-documentation class=hash-link aria-label="Direct link to Links to the official Samba documentation" title="Direct link to Links to the official Samba documentation">​</a></h3>
<p>Apart from the aforementioned <code>man smb.conf</code>, wiki.samba.org is your friend, specifically:</p>
<ul>
<li><a href=https://wiki.samba.org/index.php/Setting_up_a_Share_Using_POSIX_ACLs target=_blank rel="noopener noreferrer">https://wiki.samba.org/index.php/Setting_up_a_Share_Using_POSIX_ACLs</a></li>
<li><a href=https://wiki.samba.org/index.php/Setting_up_Samba_as_a_Standalone_Server target=_blank rel="noopener noreferrer">https://wiki.samba.org/index.php/Setting_up_Samba_as_a_Standalone_Server</a></li>
</ul>
<p>The default Solus Samba configuration is patterned on the above.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=full-manual-control-of-samba-recommended-only-for-experienced-samba-admins>Full manual control of Samba (recommended only for experienced Samba admins)<a href=#full-manual-control-of-samba-recommended-only-for-experienced-samba-admins class=hash-link aria-label="Direct link to Full manual control of Samba (recommended only for experienced Samba admins)" title="Direct link to Full manual control of Samba (recommended only for experienced Samba admins)">​</a></h2>
<p>Full manual control of Samba can be achieved by completely bypassing the default Solus Samba configuration.</p>
<p>In the <em>smbd</em> manual page (<code>man 8 smbd</code>), it is shown how the compiled-in default config file can be overridden by specifying the <code>--configfile=&lt;somepath></code> flag during startup.</p>
<p>To use the traditional <code>/etc/samba/smb.conf</code> configuration file exclusively (thus bypassing the Solus configuration), edit the <code>/etc/sysconfig/samba</code> file to look like so:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>## Path:           Network/Samba</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>## Description:    Samba process options</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>## Type:           string</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>## Default:        ""</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>## ServiceRestart: samba</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key attr-name" style=color:#00a4db>SAMBAOPTIONS</span><span class="token punctuation" style=color:#393A34>=</span><span class="token value attr-value" style=color:#e3116c>""</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>## Type:           string</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>## Default:        ""</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>## ServiceRestart: smb</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key attr-name" style=color:#00a4db>SMBDOPTIONS</span><span class="token punctuation" style=color:#393A34>=</span><span class="token value attr-value" style=color:#e3116c>"</span><span class="token value attr-value inner-value" style=color:#e3116c>--configfile=/etc/samba/smb.conf</span><span class="token value attr-value" style=color:#e3116c>"</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>## Type:           string</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>## Default:        ""</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>## ServiceRestart: nmb</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key attr-name" style=color:#00a4db>NMBDOPTIONS</span><span class="token punctuation" style=color:#393A34>=</span><span class="token value attr-value" style=color:#e3116c>"</span><span class="token value attr-value inner-value" style=color:#e3116c>--configfile=/etc/samba/smb.conf</span><span class="token value attr-value" style=color:#e3116c>"</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>## Type:           string</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>## Default:        ""</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>## ServiceRestart: winbind</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key attr-name" style=color:#00a4db>WINBINDOPTIONS</span><span class="token punctuation" style=color:#393A34>=</span><span class="token value attr-value" style=color:#e3116c>""</span><br></span></code></pre></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href=https://github.com/getsolus/help-center-docs/tree/master/docs/user/software/networking/samba.md target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class=theme-last-updated>Last updated<!-- --> on <b><time datetime=2025-08-01T19:39:50.000Z itemprop=dateModified>Aug 1, 2025</time></b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/docs/category/networking><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>Networking</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/docs/user/software/networking/tigervnc><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>TigerVNC</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#samba-on-solus class="table-of-contents__link toc-highlight">Samba on Solus</a><ul><li><a href=#how-to-startstop-samba class="table-of-contents__link toc-highlight">How to start/stop Samba</a><li><a href=#enabling-windows-7-network-discovery-support class="table-of-contents__link toc-highlight">Enabling Windows 7+ network discovery support</a><li><a href=#accessing-samba-via-ipv6 class="table-of-contents__link toc-highlight">Accessing Samba via IPv6</a></ul><li><a href=#a-brief-introduction-to-the-samba-usershare-functionality class="table-of-contents__link toc-highlight">A brief introduction to the Samba usershare functionality</a><ul><li><a href=#gui---configuring-shares-via-file-manager-plugins class="table-of-contents__link toc-highlight">GUI - configuring shares via file manager plugins</a><li><a href=#cli---using-the-net-usershare-command class="table-of-contents__link toc-highlight">CLI - using the net usershare command</a></ul><li><a href=#managing-samba-authentication-for-named-users class="table-of-contents__link toc-highlight">Managing Samba authentication for named users</a><ul><li><a href=#debugging-samba-authentication-issues class="table-of-contents__link toc-highlight">Debugging Samba authentication issues</a></ul><li><a href=#adding-custom-configuration-parameters-via-etcsambasmbconf class="table-of-contents__link toc-highlight">Adding custom configuration parameters via <code>/etc/samba/smb.conf</code></a><ul><li><a href=#example----anonymous-read-write-share-outside-of-home class="table-of-contents__link toc-highlight">Example -- anonymous, read-write share outside of <em>$HOME</em></a><li><a href=#links-to-the-official-samba-documentation class="table-of-contents__link toc-highlight">Links to the official Samba documentation</a></ul><li><a href=#full-manual-control-of-samba-recommended-only-for-experienced-samba-admins class="table-of-contents__link toc-highlight">Full manual control of Samba (recommended only for experienced Samba admins)</a></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Docs</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/docs/user/intro>Users</a><li class=footer__item><a class=footer__link-item href=/docs/packaging>Packaging</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>News</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://getsol.us/blog target=_blank rel="noopener noreferrer" class=footer__link-item>Solus Blog</a><li class=footer__item><a class=footer__link-item href=/blog>Solus Devlog</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Community</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://discuss.getsol.us target=_blank rel="noopener noreferrer" class=footer__link-item>Forums<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://matrix.to/#/#solus:matrix.org target=_blank rel="noopener noreferrer" class=footer__link-item>Matrix<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://floss.social/@getsolus target=_blank rel=me class=footer__link-item>Mastodon<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>More</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://getsol.us/ target=_blank rel="noopener noreferrer" class=footer__link-item>Solus Homepage</a><li class=footer__item><a href=https://github.com/getsolus target=_blank rel=me class=footer__link-item>GitHub<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://dev.getsol.us target=_blank rel="noopener noreferrer" class=footer__link-item>Packages<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://issues.getsol.us target=_blank rel="noopener noreferrer" class=footer__link-item>Issue Tracker<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://github.com/getsolus/packages/blob/main/SECURITY.md target=_blank rel="noopener noreferrer" class=footer__link-item>Security<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>Copyright © 2025 Solus Project. Built with Docusaurus.</div></div></div></footer></div>