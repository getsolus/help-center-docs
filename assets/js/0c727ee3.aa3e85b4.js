"use strict";(self.webpackChunksolus_help_center=self.webpackChunksolus_help_center||[]).push([["9253"],{62569:function(e,n,s){s.d(n,{ZP:function(){return t},d$:function(){return i}});var r=s(85893),o=s(50065);let i=[];function l(e){let n={admonition:"admonition",code:"code",em:"em",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["To recover your system, you need to mount the Solus root (",(0,r.jsx)(n.code,{children:"/"}),") partition and all other partitions your system uses."]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Open a terminal."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Mount the Solus root partition:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Access as the root user by using the following command:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sudo su\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Create a directory to serve as the mount point for your Solus system:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"mkdir /target\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Find the drive and partition of your Solus system using the ",(0,r.jsx)(n.code,{children:"lsblk"})," command."]}),"\n",(0,r.jsx)(n.p,{children:"After running the command, the system displays a list of all the drives in your computer:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"NAME                  MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT\nsda                     8:0    0 238.5G  0 disk\n\u251C\u2500sda1                  8:1    0   512M  0 part\n\u251C\u2500sda2                  8:2    0   234G  0 part\n\u2514\u2500sda3                  8:3    0     4G  0 part [SWAP]\nsdb                     8:16   0 465.8G  0 disk\n\u251C\u2500sdb1                  8:17   0     1G  0 part\n\u2514\u2500sdb2                  8:18   0 464.8G  0 part\n  \u251C\u2500SolusSystem-root  253:0    0 234.3G  0 lvm\n  \u251C\u2500SolusSystem-swap  253:1    0   3.7G  0 lvm  [SWAP]\nsdc                     8:32   1  14.9G  0 disk\n\u251C\u2500sdc1                  8:33   1   4.2G  0 part /cdrom\n\u2514\u2500sdc2                  8:34   1   4.1M  0 part\nnvme0n1               259:0    0 476.9G  0 disk\n\u251C\u2500nvme0n1p1           259:1    0   500M  0 part\n\u251C\u2500nvme0n1p2           259:2    0    16M  0 part\n\u251C\u2500nvme0n1p3           259:3    0   475G  0 part\n\u2514\u2500nvme0n1p4           259:4    0   1.4G  0 part\n"})}),"\n",(0,r.jsx)(n.p,{children:"You can use drive size or the number of partitions in each drive to determine which one is your Solus drive."}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.p,{children:["If you installed Solus on a ",(0,r.jsx)(n.em,{children:"SATA"})," drive, the name of the drive might be ",(0,r.jsx)(n.code,{children:"sdX"})," (For example, ",(0,r.jsx)(n.code,{children:"sda"}),"). If you installed Solus on an ",(0,r.jsx)(n.em,{children:"NVMe"})," drive, the name of the drive might be ",(0,r.jsx)(n.code,{children:"nvme#n#"})," (For example ",(0,r.jsx)(n.code,{children:"nvme0n1"}),")."]})}),"\n",(0,r.jsx)(n.p,{children:"Write down the name of the drive and the type."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["If the type of your drive is ",(0,r.jsx)(n.strong,{children:"lvm"})," or if your drive is encrypted:"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Check if the drive is encrypted."}),"\n",(0,r.jsxs)(n.p,{children:["Encrypted drives do not have the label ",(0,r.jsx)(n.strong,{children:"decrypted"})," after the drive name:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sdb                     8:16   0 465.8G  0 disk\n\u251C\u2500sdb1                  8:17   0     1G  0 part\n\u2514\u2500sdb2                  8:18   0 464.8G  0 part\n  \u251C\u2500SolusSystem-root  253:0    0   100G  0 lvm\n  \u2514\u2500SolusSystem-swap  253:1    0     8G  0 lvm  [SWAP]\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Decrypted drives have the label ",(0,r.jsx)(n.strong,{children:"decrypted"})," after the drive name:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sdb                     8:16     0 465.8G  0 disk\n\u251C\u2500sdb1                  8:17     0     1G  0 part\n\u2514\u2500sdb2                  8:18     0 464.8G  0 part\n \u2514\u2500decrypted           253:1    0   238G  0 crypt\n    \u251C\u2500SolusSystem-root  253:0    0 234.3G  0 lvm\n    \u2514\u2500SolusSystem-swap  253:1    0   3.7G  0 lvm  [SWAP]\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["If your drive is encrypted, use ",(0,r.jsx)(n.code,{children:"cryptsetup"})," to decrypt it."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cryptsetup luksOpen /dev/partitionName decrypted\n"})}),"\n",(0,r.jsx)(n.p,{children:"For example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cryptsetup luksOpen /dev/sdb2 decrypted\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Mount the Solus root partition:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["If your drive's type is ",(0,r.jsx)(n.em,{children:"lvm"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"mount /dev/mapper/SolusSystem-Root /target\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Otherwise:","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"mount /dev/sdX# /target\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"If your computer uses UEFI, mount the EFI system partition:"}),"\n",(0,r.jsx)(n.p,{children:"In new installations, the EFI system partition (also known as ESP) is usually 1 GB in size. For older installations, the partition is usually 512 MB in size."}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Use ",(0,r.jsx)(n.code,{children:"fdisk"})," to check the partitions of your drive:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"If you have a SATA drive:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"fdisk -o Device,Size,Type -l /dev/sdX\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"If you have an NVMe drive:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"fdisk -o Device,Size,Type -l /dev/nvme0nX\n"})}),"\n",(0,r.jsx)(n.p,{children:"The system displays something similar to this:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"Device       Size Type\n/dev/sda1    512M EFI System\n/dev/sda2  111.3G Linux filesystem\n"})}),"\n",(0,r.jsxs)(n.p,{children:["In this case, the EFI system partition is ",(0,r.jsx)(n.code,{children:"/dev/sda1"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Mount the EFI system partition:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"mount /dev/sdX# /target/boot\n"})}),"\n",(0,r.jsx)(n.p,{children:"For example:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"mount /dev/sda1 /target/boot\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Mount other partitions your system might have (for example, ",(0,r.jsx)(n.code,{children:"/home"}),"):"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"mount /dev/sdX# /target/home\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Chroot to your Solus system:"}),"\n",(0,r.jsx)(n.p,{children:"Chroot allows you to execute commands and use utilities from your main system directly. This is necessary to do specific repairs like fixing the bootloader."}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Run the following commands:","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"mount --types proc /proc /target/proc\nmount --rbind /dev /target/dev\nmount --rbind /sys /target/sys\nmount --make-rslave /target/dev\nmount --make-rslave /target/sys\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Chroot into your system:","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"chroot /target\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]})]})}function t(e={}){let{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},70498:function(e,n,s){s.r(n),s.d(n,{default:()=>p,frontMatter:()=>t,metadata:()=>r,assets:()=>d,toc:()=>a,contentTitle:()=>c});var r=JSON.parse('{"id":"user/troubleshooting/plasma","title":"Plasma Troubleshooting","description":"This contains fixes for various issues you might encounter with the Plasma desktop environment.","source":"@site/docs/user/troubleshooting/plasma.mdx","sourceDirName":"user/troubleshooting","slug":"/user/troubleshooting/plasma","permalink":"/docs/user/troubleshooting/plasma","draft":false,"unlisted":false,"editUrl":"https://github.com/getsolus/help-center-docs/tree/master/docs/user/troubleshooting/plasma.mdx","tags":[],"version":"current","lastUpdatedAt":1751057753000,"frontMatter":{"title":"Plasma Troubleshooting","summary":"Troubleshooting Issues With the Plasma Desktop"},"sidebar":"userSidebar","previous":{"title":"Installation Issues","permalink":"/docs/user/troubleshooting/installation"}}'),o=s("85893"),i=s("50065"),l=s("62569");let t={title:"Plasma Troubleshooting",summary:"Troubleshooting Issues With the Plasma Desktop"},c="Plasma Desktop Troubleshooting",d={},a=[{value:"Desktop no longer responds to clicks, cursor stuck in &quot;move&quot; mode (cross)",id:"desktop-no-longer-responds-to-clicks-cursor-stuck-in-move-mode-cross",level:2},{value:"Application windows look corrupt / incomplete",id:"application-windows-look-corrupt--incomplete",level:2},...l.d$];function h(e){let n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.a)(),...e.components},{Details:s}=n;return s||function(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"plasma-desktop-troubleshooting",children:"Plasma Desktop Troubleshooting"})}),"\n",(0,o.jsx)(n.p,{children:"This contains fixes for various issues you might encounter with the Plasma desktop environment."}),"\n",(0,o.jsx)(n.h2,{id:"desktop-no-longer-responds-to-clicks-cursor-stuck-in-move-mode-cross",children:'Desktop no longer responds to clicks, cursor stuck in "move" mode (cross)'}),"\n",(0,o.jsx)(n.p,{children:"This is often caused by a Firefox bug. It can be triggered by various things, like moving Firefox windows."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Symptoms:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Can't click on anything on the desktop."}),"\n",(0,o.jsx)(n.li,{children:"Bringing up windows with keyboard shortcuts (ex: Super for the app menu, F9 for a drop down terminal) works, but they don't get focused. You can't interact with them."}),"\n",(0,o.jsx)(n.li,{children:"Mouse cursor is stuck in move mode, it looks like a cross."}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["You may not need to reboot to recover from this state. Killing all ",(0,o.jsx)(n.code,{children:"firefox"})," processes may be all that's necessary. To do so:"]}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["Open a virtual terminal by pressing ",(0,o.jsx)(n.code,{children:"Ctrl+Alt+F3"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:["Run the following to kill all ",(0,o.jsx)(n.code,{children:"firefox"})," windows:"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"killall firefox\n"})}),"\n",(0,o.jsx)(n.p,{children:"This should close all Firefox windows."}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["Return to the Plasma session by pressing ",(0,o.jsx)(n.code,{children:"Ctrl+Alt+F2"}),".\nYou should now be able to use Plasma normally."]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"application-windows-look-corrupt--incomplete",children:"Application windows look corrupt / incomplete"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Symptoms"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Application windows look corrupt. For example, NeoChat does not display room or user icons."}),"\n",(0,o.jsx)(n.li,{children:"Menus in an application are blank."}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"You may be able to fix this by clearing KDE / Plasma cache files."}),"\n",(0,o.jsx)(n.admonition,{title:"Important",type:"caution",children:(0,o.jsx)(n.p,{children:"You should not be logged into your Plasma session while deleting the cache files, booting from a live USB is necessary."})}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"While still logged into your Plasma session, go to your home directory:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"cd\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Run these commands to back up the following directories:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"cp -av ~/.kde{,.bak}\ncp -av ~/.config{,.bak}\ncp -av ~/.local{,.bak}\ncp -av ~/share{,.bak}\n"})}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["The commands create a copy of the folders. Each copy has the ",(0,o.jsx)(n.code,{children:".bak"})," extension (Example: ",(0,o.jsx)(n.code,{children:"~/.config.bak"}),"). These can be used to recover configuration files, if necessary."]}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Shut down the system."}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Boot from a live USB, which you can create from one of the ",(0,o.jsx)(n.a,{href:"https://getsol.us/download/",children:"Solus installers"}),"."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Mount the partitions of your Solus system."}),"\n",(0,o.jsx)(s,{children:(0,o.jsx)(l.ZP,{})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Change to your user's directory in the chrooted environment:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"cd /target/home/your-user-name\n"})}),"\n",(0,o.jsx)(n.p,{children:"For example:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"cd /target/home/JohnDoe\n"})}),"\n",(0,o.jsx)(n.p,{children:"You can make sure the directory is correct by listing the files:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"ls -laH\n"})}),"\n",(0,o.jsx)(n.admonition,{title:"Important",type:"caution",children:(0,o.jsxs)(n.p,{children:["Avoid deleting the following directories: ",(0,o.jsx)(n.code,{children:"~/.kde"}),", ",(0,o.jsx)(n.code,{children:"~/.kde4"}),", ",(0,o.jsx)(n.code,{children:"~/.local"}),", and ",(0,o.jsx)(n.code,{children:"~/.config"})]})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Remove the various caches that Plasma uses."}),"\n",(0,o.jsx)(n.p,{children:"Execute the following commands:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"rm -rf .cache/plasmashell*\nrm -rf .cache/org.kde.dirmodel-qml.kcache\nrm -rf .cache/kioexec/ .cache/krunner/ .cache/ksycoca5*\nrm -rf .cache/krunnerbookmarkrunnerfirefoxdbfile.sqlite\n\ncd ../.local/\nrm -rf kate/ kded5/ klipper/ knewstuff3/ kscreen/ konsole/ kwalletd/ ksysguard/ kmail2/ kcookiejar/ kactivitymanagerd/\n\ncd ../share/\nrm -rf dolphin kate kcookiejar kded5 keyrings klipper kmail2 knewstuff3 konsole kscreen ksysguard kwalletd kxmlgui5 plasma_engine_comic plasma plasma_notes org.kde.gwenview\n\ncd ../.config/\nrm -f plasma*\nrm -rf kde* akonadi* KDE kconf_updaterc baloo* dolphinrc drkonqirc gwenviewrc kmail2rc k*rc katemetainfos\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Shut down the live environment and remove the live USB drive."}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Reboot back into your regular Plasma session. Verify the issue is fixed."}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"If you experience system instability, restore the previously backed up folders."}),"\n",(0,o.jsx)(n.p,{children:"To restore an entire directory:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"cp -rav .kde.bak/share/config/ .kde/share/config\n"})}),"\n",(0,o.jsx)(n.p,{children:"After restoring the files or directories, restart your system."}),"\n"]}),"\n"]})]})}function p(e={}){let{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},50065:function(e,n,s){s.d(n,{Z:function(){return t},a:function(){return l}});var r=s(67294);let o={},i=r.createContext(o);function l(e){let n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:l(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);